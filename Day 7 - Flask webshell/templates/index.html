<html>
	<head>
		<link rel="stylesheet" type=text/css href="{{ url_for('static', filename='css/custom.css')}}">
		<title>Flask app with logging</title>
		<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script>
			function scrollTo(id) {
				const el = document.getElementById(id);
				el.scrollIntoView({behavior: "smooth", block: "end", inline: "nearest"});
			}

			$(document).ready(function(){
				var output = document.getElementById('output');
				var xhr = new XMLHttpRequest();
				xhr.open('GET', '{{ url_for('log_stream') }}', true);
				xhr.send();
				let i = 0;
				setInterval(function() {
					output.textContent = xhr.responseText;
					scrollTo("data"+i)
					i++;
				}, 500);
			});
		</script>
	</head>
	<body id="main">
		<div class="row">
			<h2 align="center">Logging will appear here:</h2>
			<div class="logging_window">
				<pre id="output"></pre>
			</div>
		</div>
	</body>
</html>
